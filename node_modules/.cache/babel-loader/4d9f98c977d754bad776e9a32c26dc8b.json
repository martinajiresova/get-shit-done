{"ast":null,"code":"import _classCallCheck from\"/Users/martina/Desktop/react-todo-new/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/martina/Desktop/react-todo-new/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/martina/Desktop/react-todo-new/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/martina/Desktop/react-todo-new/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/martina/Desktop/react-todo-new/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import AddItem from'../../components/add-item/add-item.component';import ListItems from'../../components/list-items/list-items.component';import ProgressBar from'../../components/progress-bar/progress-bar.component';import Input from'../../components/input/input.component';import'./todo-list.styles.scss';var ToDoList=/*#__PURE__*/function(_React$Component){_inherits(ToDoList,_React$Component);function ToDoList(){var _this;_classCallCheck(this,ToDoList);_this=_possibleConstructorReturn(this,_getPrototypeOf(ToDoList).call(this));_this.onEditing=function(){_this.setState({isEditing:!_this.state.isEditing});};_this.onChange=function(e){_this.setState({input:e.target.value});};_this.onSubmit=function(e){e.preventDefault();var item={id:new Date().getTime(),text:_this.state.input,isCompleted:false};if(!_this.state.input.length){return false;}_this.setState(function(state){return{items:state.items.concat(item),input:''};},function(){return _this.setProgress(_this.state.items);});};_this.onClick=function(id){var updated=_this.state.items.map(function(item){if(item.id===id){item.isCompleted=!item.isCompleted;}return item;});_this.setState({items:updated},function(){return _this.setProgress(updated);});};_this.onDelete=function(id){var filtered=_this.state.items.filter(function(item){if(item.id!==id){return item;}});_this.setState({items:filtered},function(){return _this.setProgress(filtered);});};_this.setProgress=function(items){var progressBar=document.querySelector(\".progress\");if(items.length>=1){var checked=items.filter(function(item){return item.isCompleted;});var progress=checked.length/items.length;_this.setState({progress:Math.floor(progress*100)});progressBar.classList.remove(\"hidden\");}else{progressBar.classList.add(\"hidden\");}};_this.state={items:[],input:'',isEditing:false,progress:0};return _this;}_createClass(ToDoList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var all=localStorage.getItem('items')!=null?JSON.parse(localStorage.getItem('items')):[];this.setState({items:all},function(){return _this2.setProgress(_this2.state.items);});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){localStorage.setItem('items',JSON.stringify(this.state.items));}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"form\",{className:\"todo-list-container\",onSubmit:function onSubmit(e){return _this3.onSubmit(e);}},React.createElement(\"div\",{className:\"add-item\"},React.createElement(AddItem,{onEditing:this.onEditing}),React.createElement(Input,Object.assign({},this.state,{onChange:this.onChange}))),React.createElement(\"div\",{className:\"list-items\"},React.createElement(ListItems,Object.assign({},this.state,{onClick:this.onClick,onDelete:this.onDelete}))),React.createElement(ProgressBar,this.state));}}]);return ToDoList;}(React.Component);export default ToDoList;","map":{"version":3,"sources":["/Users/martina/Desktop/react-todo-new/src/pages/todo-list/todo-list.component.jsx"],"names":["React","AddItem","ListItems","ProgressBar","Input","ToDoList","onEditing","setState","isEditing","state","onChange","e","input","target","value","onSubmit","preventDefault","item","id","Date","getTime","text","isCompleted","length","items","concat","setProgress","onClick","updated","map","onDelete","filtered","filter","progressBar","document","querySelector","checked","progress","Math","floor","classList","remove","add","all","localStorage","getItem","JSON","parse","setItem","stringify","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport AddItem from '../../components/add-item/add-item.component';\nimport ListItems from '../../components/list-items/list-items.component';\nimport ProgressBar from '../../components/progress-bar/progress-bar.component';\nimport Input from '../../components/input/input.component';\n\nimport './todo-list.styles.scss';\n\nclass ToDoList extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      items: [],\n      input: '',\n      isEditing: false,\n      progress: 0,\n\n    }\n  }\n\n  componentDidMount() {\n    let all = localStorage.getItem('items') != null ? JSON.parse(localStorage.getItem('items')) : []\n    this.setState({ items: all }, () => this.setProgress(this.state.items))\n  }\n\n  componentDidUpdate() {\n    localStorage.setItem('items', JSON.stringify(this.state.items))\n  }\n\n  onEditing = () => {\n    this.setState({ isEditing : !this.state.isEditing })\n  }\n\n  onChange = e => { \n    this.setState({input: e.target.value })\n  }\n\n  onSubmit = e => {\n    e.preventDefault()\n    const item = { id: new Date().getTime(), text: this.state.input, isCompleted: false}\n    if (!this.state.input.length) { return false }\n    this.setState((state) => ({ \n      items : state.items.concat(item),\n      input: ''\n    }), () => this.setProgress(this.state.items))\n  }\n\n  onClick = id => { \n    let updated = this.state.items.map(item => {\n      if (item.id === id) { item.isCompleted = !item.isCompleted }\n      return item\n    })\n    this.setState({ items: updated }, () => this.setProgress(updated))\n  }\n\n  onDelete = id => { \n    let filtered = this.state.items.filter(item => {\n      if (item.id !== id) { return item }\n    })\n    this.setState({ items: filtered }, () => this.setProgress(filtered))\n  }\n\n  setProgress = items => {\n    let progressBar = document.querySelector(\".progress\")\n\n    if (items.length >= 1) {\n      let checked = items.filter(item => { return item.isCompleted })\n      let progress = checked.length / items.length\n      this.setState({ progress: Math.floor(progress * 100) })\n      progressBar.classList.remove(\"hidden\")\n    } else {\n      progressBar.classList.add(\"hidden\")\n    }\n  }\n\n  render() {\n    return (\n      <form className=\"todo-list-container\" onSubmit={(e) => this.onSubmit(e)}>\n        <div className='add-item'>\n          <AddItem onEditing={this.onEditing} />\n          <Input {...this.state} onChange={this.onChange} />\n        </div>\n        <div className='list-items'>\n          <ListItems {...this.state} onClick={this.onClick} onDelete={this.onDelete} />\n        </div>\n\n        <ProgressBar { ...this.state } />\n      </form>\n    );\n  }\n}\n\nexport default ToDoList;\n"]},"metadata":{},"sourceType":"module"}