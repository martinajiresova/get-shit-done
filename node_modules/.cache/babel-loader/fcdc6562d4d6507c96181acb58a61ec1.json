{"ast":null,"code":"var _jsxFileName = \"/Users/martina/Desktop/react-todo-new/src/pages/todo-list/todo-list.component.jsx\";\nimport React from 'react';\nimport AddItem from '../../components/add-item/add-item.component';\nimport './todo-list.styles.scss';\n\nconst Progress = props => {\n  const {\n    progress\n  } = props;\n  return React.createElement(\"div\", {\n    class: \"progress\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"progress-bar\",\n    role: \"progressbar\",\n    \"aria-valuenow\": \"25\",\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": \"100\",\n    style: {\n      width: progress + \"%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, progress + \"%\"));\n};\n\nconst Input = props => {\n  const {\n    isEditing,\n    input,\n    onChange\n  } = props;\n\n  if (isEditing) {\n    return React.createElement(\"span\", {\n      className: \"todo-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: input,\n      onChange: e => onChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }));\n  } else {\n    return false;\n  }\n};\n\nclass ToDoList extends React.Component {\n  constructor() {\n    super();\n\n    this.onEditing = () => {\n      this.setState({\n        isEditing: !this.state.isEditing\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        input: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const item = {\n        id: new Date().getTime(),\n        text: this.state.input,\n        isCompleted: false\n      };\n\n      if (!this.state.input.length) {\n        return false;\n      }\n\n      this.setState(state => ({\n        items: state.items.concat(item),\n        input: ''\n      }), () => this.setProgress(this.state.items));\n    };\n\n    this.onClick = id => {\n      let updated = this.state.items.map(item => {\n        if (item.id === id) {\n          item.isCompleted = !item.isCompleted;\n        }\n\n        return item;\n      });\n      this.setState({\n        items: updated\n      }, () => this.setProgress(updated));\n    };\n\n    this.onDelete = id => {\n      let filtered = this.state.items.filter(item => {\n        if (item.id !== id) {\n          return item;\n        }\n      });\n      this.setState({\n        items: filtered\n      }, () => this.setProgress(filtered));\n    };\n\n    this.setProgress = items => {\n      let checked = items.filter(item => {\n        return item.isCompleted;\n      });\n      let progress = checked.length / items.length;\n      this.setState({\n        progress: Math.floor(progress * 100)\n      });\n    };\n\n    this.state = {\n      items: [],\n      input: '',\n      isEditing: false,\n      progress: 0\n    };\n  }\n\n  componentDidMount() {\n    let all = localStorage.getItem('items') != null ? JSON.parse(localStorage.getItem('items')) : [];\n    this.setState({\n      items: all\n    }, () => this.setProgress(this.state.items));\n  }\n\n  componentDidUpdate() {\n    localStorage.setItem('items', JSON.stringify(this.state.items));\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"todo-list-container\",\n      onSubmit: e => this.onSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"add-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(AddItem, {\n      onEditing: this.onEditing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(Input, Object.assign({}, this.state, {\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"list-items\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Progress, Object.assign({}, this.state, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(List, Object.assign({}, this.state, {\n      onClick: this.onClick,\n      onDelete: this.onDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default ToDoList;","map":{"version":3,"sources":["/Users/martina/Desktop/react-todo-new/src/pages/todo-list/todo-list.component.jsx"],"names":["React","AddItem","Progress","props","progress","width","Input","isEditing","input","onChange","e","ToDoList","Component","constructor","onEditing","setState","state","target","value","onSubmit","preventDefault","item","id","Date","getTime","text","isCompleted","length","items","concat","setProgress","onClick","updated","map","onDelete","filtered","filter","checked","Math","floor","componentDidMount","all","localStorage","getItem","JSON","parse","componentDidUpdate","setItem","stringify","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,OAAP,MAAoB,8CAApB;AAEA,OAAO,yBAAP;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AACxB,QAAM;AAAEC,IAAAA;AAAF,MAAeD,KAArB;AACA,SACE;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAC,cADR;AAEE,IAAA,IAAI,EAAC,aAFP;AAGE,qBAAc,IAHhB;AAIE,qBAAc,GAJhB;AAKE,qBAAc,KALhB;AAME,IAAA,KAAK,EAAE;AAAEE,MAAAA,KAAK,EAAED,QAAQ,GAAG;AAApB,KANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQIA,QAAQ,GAAG,GARf,CADF,CADF;AAcD,CAhBD;;AAkBA,MAAME,KAAK,GAAGH,KAAK,IAAI;AACrB,QAAM;AAAEI,IAAAA,SAAF;AAAaC,IAAAA,KAAb;AAAoBC,IAAAA;AAApB,MAAiCN,KAAvC;;AACA,MAAII,SAAJ,EAAe;AACb,WACE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,KAAK,EAAEC,KAAd;AAAqB,MAAA,QAAQ,EAAGE,CAAD,IAAOD,QAAQ,CAACC,CAAD,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAKD,GAND,MAMO;AACL,WAAO,KAAP;AACD;AACF,CAXD;;AAaA,MAAMC,QAAN,SAAuBX,KAAK,CAACY,SAA7B,CAAuC;AACrCC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAmBdC,SAnBc,GAmBF,MAAM;AAChB,WAAKC,QAAL,CAAc;AAAER,QAAAA,SAAS,EAAG,CAAC,KAAKS,KAAL,CAAWT;AAA1B,OAAd;AACD,KArBa;;AAAA,SAuBdE,QAvBc,GAuBHC,CAAC,IAAI;AACd,WAAKK,QAAL,CAAc;AAACP,QAAAA,KAAK,EAAEE,CAAC,CAACO,MAAF,CAASC;AAAjB,OAAd;AACD,KAzBa;;AAAA,SA2BdC,QA3Bc,GA2BHT,CAAC,IAAI;AACdA,MAAAA,CAAC,CAACU,cAAF;AACA,YAAMC,IAAI,GAAG;AAAEC,QAAAA,EAAE,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EAAN;AAA4BC,QAAAA,IAAI,EAAE,KAAKT,KAAL,CAAWR,KAA7C;AAAoDkB,QAAAA,WAAW,EAAE;AAAjE,OAAb;;AACA,UAAI,CAAC,KAAKV,KAAL,CAAWR,KAAX,CAAiBmB,MAAtB,EAA8B;AAAE,eAAO,KAAP;AAAc;;AAC9C,WAAKZ,QAAL,CAAeC,KAAD,KAAY;AACxBY,QAAAA,KAAK,EAAGZ,KAAK,CAACY,KAAN,CAAYC,MAAZ,CAAmBR,IAAnB,CADgB;AAExBb,QAAAA,KAAK,EAAE;AAFiB,OAAZ,CAAd,EAGI,MAAM,KAAKsB,WAAL,CAAiB,KAAKd,KAAL,CAAWY,KAA5B,CAHV;AAID,KAnCa;;AAAA,SAqCdG,OArCc,GAqCJT,EAAE,IAAI;AACd,UAAIU,OAAO,GAAG,KAAKhB,KAAL,CAAWY,KAAX,CAAiBK,GAAjB,CAAqBZ,IAAI,IAAI;AACzC,YAAIA,IAAI,CAACC,EAAL,KAAYA,EAAhB,EAAoB;AAAED,UAAAA,IAAI,CAACK,WAAL,GAAmB,CAACL,IAAI,CAACK,WAAzB;AAAsC;;AAC5D,eAAOL,IAAP;AACD,OAHa,CAAd;AAIA,WAAKN,QAAL,CAAc;AAAEa,QAAAA,KAAK,EAAEI;AAAT,OAAd,EAAkC,MAAM,KAAKF,WAAL,CAAiBE,OAAjB,CAAxC;AACD,KA3Ca;;AAAA,SA6CdE,QA7Cc,GA6CHZ,EAAE,IAAI;AACf,UAAIa,QAAQ,GAAG,KAAKnB,KAAL,CAAWY,KAAX,CAAiBQ,MAAjB,CAAwBf,IAAI,IAAI;AAC7C,YAAIA,IAAI,CAACC,EAAL,KAAYA,EAAhB,EAAoB;AAAE,iBAAOD,IAAP;AAAa;AACpC,OAFc,CAAf;AAGA,WAAKN,QAAL,CAAc;AAAEa,QAAAA,KAAK,EAAEO;AAAT,OAAd,EAAmC,MAAM,KAAKL,WAAL,CAAiBK,QAAjB,CAAzC;AACD,KAlDa;;AAAA,SAoDdL,WApDc,GAoDAF,KAAK,IAAI;AACrB,UAAIS,OAAO,GAAGT,KAAK,CAACQ,MAAN,CAAaf,IAAI,IAAI;AAAE,eAAOA,IAAI,CAACK,WAAZ;AAAyB,OAAhD,CAAd;AACA,UAAItB,QAAQ,GAAGiC,OAAO,CAACV,MAAR,GAAiBC,KAAK,CAACD,MAAtC;AACA,WAAKZ,QAAL,CAAc;AAAEX,QAAAA,QAAQ,EAAEkC,IAAI,CAACC,KAAL,CAAWnC,QAAQ,GAAG,GAAtB;AAAZ,OAAd;AACD,KAxDa;;AAEZ,SAAKY,KAAL,GAAa;AACXY,MAAAA,KAAK,EAAE,EADI;AAEXpB,MAAAA,KAAK,EAAE,EAFI;AAGXD,MAAAA,SAAS,EAAE,KAHA;AAIXH,MAAAA,QAAQ,EAAE;AAJC,KAAb;AAMD;;AAEDoC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,GAAG,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,IAAjC,GAAwCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAxC,GAAoF,EAA9F;AACA,SAAK5B,QAAL,CAAc;AAAEa,MAAAA,KAAK,EAAEa;AAAT,KAAd,EAA8B,MAAM,KAAKX,WAAL,CAAiB,KAAKd,KAAL,CAAWY,KAA5B,CAApC;AACD;;AAEDkB,EAAAA,kBAAkB,GAAG;AACnBJ,IAAAA,YAAY,CAACK,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACI,SAAL,CAAe,KAAKhC,KAAL,CAAWY,KAA1B,CAA9B;AACD;;AAyCDqB,EAAAA,MAAM,GAAG;AACP,WACE;AAAM,MAAA,SAAS,EAAC,qBAAhB;AAAsC,MAAA,QAAQ,EAAGvC,CAAD,IAAO,KAAKS,QAAL,CAAcT,CAAd,CAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAE,KAAKI,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,KAAD,oBAAW,KAAKE,KAAhB;AAAuB,MAAA,QAAQ,EAAE,KAAKP,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFF,CADF,EAKE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD,oBAAe,KAAKO,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF,EAEE,oBAAC,IAAD,oBAAU,KAAKA,KAAf;AAAsB,MAAA,OAAO,EAAE,KAAKe,OAApC;AAA6C,MAAA,QAAQ,EAAE,KAAKG,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFF,CALF,CADF;AAYD;;AAxEoC;;AA2EvC,eAAevB,QAAf","sourcesContent":["import React from 'react';\n\nimport AddItem from '../../components/add-item/add-item.component';\n\nimport './todo-list.styles.scss';\n\nconst Progress = props => {\n  const { progress } = props\n  return(\n    <div class=\"progress\">\n      <div \n        class=\"progress-bar\" \n        role=\"progressbar\" \n        aria-valuenow=\"25\" \n        aria-valuemin=\"0\" \n        aria-valuemax=\"100\" \n        style={{ width: progress + \"%\"}}\n      >\n        { progress + \"%\" }\n      </div>\n    </div>\n  )\n}\n\nconst Input = props => {\n  const { isEditing, input, onChange } = props\n  if (isEditing) {\n    return(\n      <span className=\"todo-wrap\" >\n        <input value={input} onChange={(e) => onChange(e)} />\n      </span> \n    ) \n  } else {\n    return false\n  }\n}\n\nclass ToDoList extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      items: [],\n      input: '',\n      isEditing: false,\n      progress: 0\n    }\n  }\n\n  componentDidMount() {\n    let all = localStorage.getItem('items') != null ? JSON.parse(localStorage.getItem('items')) : []\n    this.setState({ items: all }, () => this.setProgress(this.state.items))\n  }\n\n  componentDidUpdate() {\n    localStorage.setItem('items', JSON.stringify(this.state.items))\n  }\n\n  onEditing = () => {\n    this.setState({ isEditing : !this.state.isEditing })\n  }\n\n  onChange = e => { \n    this.setState({input: e.target.value })\n  }\n\n  onSubmit = e => {\n    e.preventDefault()\n    const item = { id: new Date().getTime(), text: this.state.input, isCompleted: false}\n    if (!this.state.input.length) { return false }\n    this.setState((state) => ({ \n      items : state.items.concat(item),\n      input: ''\n    }), () => this.setProgress(this.state.items))\n  }\n\n  onClick = id => { \n    let updated = this.state.items.map(item => {\n      if (item.id === id) { item.isCompleted = !item.isCompleted }\n      return item\n    })\n    this.setState({ items: updated }, () => this.setProgress(updated))\n  }\n\n  onDelete = id => { \n    let filtered = this.state.items.filter(item => {\n      if (item.id !== id) { return item }\n    })\n    this.setState({ items: filtered }, () => this.setProgress(filtered))\n  }\n\n  setProgress = items => {\n    let checked = items.filter(item => { return item.isCompleted })\n    let progress = checked.length / items.length\n    this.setState({ progress: Math.floor(progress * 100) })\n  }\n\n  render() {\n    return (\n      <form className=\"todo-list-container\" onSubmit={(e) => this.onSubmit(e)}>\n        <div className='add-item'>\n          <AddItem onEditing={this.onEditing} />\n          <Input {...this.state} onChange={this.onChange} />\n        </div>\n        <div className='list-items'>\n          <Progress { ...this.state } />\n          <List {...this.state} onClick={this.onClick} onDelete={this.onDelete} />\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default ToDoList;\n"]},"metadata":{},"sourceType":"module"}